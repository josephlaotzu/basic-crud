<div class="container" *ngIf="!loading">
  <form [formGroup]="employeeForm" #f="ngForm" (ngSubmit)="onSave(f)" novalidate>
    <a class="submit" (click)="onSave(f)" type="submit" *ngIf="!readonly">[Save]</a>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group row">
          <label class="col-sm-4 col-form-label" for="firstname">Firstname:</label>
          <div class="col-sm-8">
            <input type="text" class="form-control" formControlName="firstname" [readonly]="readonly" required>
            <div *ngIf="submitted && f.control.controls.firstname.invalid" class="invalid-feedback">
              <div *ngIf="f.control.controls.firstname.errors.required">firstname is required</div>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 col-form-label" for="lastname">Lastname:</label>
          <div class="col-sm-8">
            <input type="text" class="form-control" formControlName="lastname" [readonly]="readonly" required>
            <div *ngIf="submitted && f.control.controls.lastname.invalid" class="invalid-feedback">
              <div *ngIf="f.control.controls.lastname.errors.required">lastname is required</div>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 col-form-label" for="middlename">Middlename:</label>
          <div class="col-sm-8">
            <input type="text" class="form-control" formControlName="middlename" [readonly]="readonly" required>
            <div *ngIf="submitted && f.control.controls.middlename.invalid" class="invalid-feedback">
              <div *ngIf="f.control.controls.middlename.errors.required">middlename is required</div>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 col-form-label" for="birthday">Birthday:</label>
          <div class="col-sm-8">
            <input type="date" class="form-control" formControlName="birthday" [readonly]="readonly" required>
            <div *ngIf="submitted && f.control.controls.birthday.invalid" class="invalid-feedback">
              <div *ngIf="f.control.controls.birthday.errors.required">birthday is required</div>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 col-form-label" for="gender">Gender:</label>
          <div class="col-sm-8">
            <input type="text" class="form-control" formControlName="gender" [readonly]="readonly" required>
            <div *ngIf="submitted && f.control.controls.gender.invalid" class="invalid-feedback">
              <div *ngIf="f.control.controls.gender.errors.required">gender is required</div>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 col-form-label" for="maritalStatus">Marital Status:</label>
          <div class="col-sm-8">
            <input type="text" class="form-control" formControlName="maritalStatus" [readonly]="readonly" required>
            <div *ngIf="submitted && f.control.controls.maritalStatus.invalid" class="invalid-feedback">
              <div *ngIf="f.control.controls.maritalStatus.errors.required">marital status is required</div>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 col-form-label" for="position">Position:</label>
          <div class="col-sm-8">
            <input type="text" class="form-control" formControlName="position" [readonly]="readonly" required>
            <div *ngIf="submitted && f.control.controls.position.invalid" class="invalid-feedback">
              <div *ngIf="f.control.controls.position.errors.required">position is required</div>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <label class="col-sm-4 col-form-label" for="dateHired">Date Hired:</label>
          <div class="col-sm-8">
            <input type="date" class="form-control" formControlName="dateHired" [readonly]="readonly" required>
            <div *ngIf="submitted && f.control.controls.dateHired.invalid" class="invalid-feedback">
              <div *ngIf="f.control.controls.dateHired.errors.required">date hired is required</div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group row">
          <div class="col-sm-12"><label class="col-form-label" for="contactInfo">Contact Info:</label>
            <a (click)="addContacts()" style="cursor:pointer">[Add]</a>
          </div>
          <table class="table" formArrayName="contactInfo">
            <tr>
              <td>Value:</td>
              <td>isPrimary?:</td>
              <td></td>
            </tr>
            <tr *ngFor="let contact of contactInfoArray.controls; let i = index" [formGroupName]='i'>
              <td> <input type="text" class="form-control" formControlName="value" [readonly]="readonly"></td>
              <td>
                <label class="radio-inline"><input type="radio" value="true" checked formControlName="isPrimary"
                    [readonly]="readonly">YES</label>
                <label class="radio-inline"><input type="radio" value="false" formControlName="isPrimary"
                    [readonly]="readonly">NO</label>
              </td>
              <td><a (click)="removeContact(i)" style="cursor:pointer">[X]</a></td>
            </tr>
          </table>
        </div>
        <div class="form-group row">
          <div class="col-sm-12"><label class="col-form-label" for="addressInfo">Address Info:</label>
            <a (click)="addAddress()" style="cursor:pointer">[Add]</a>
          </div>
          <table class="table" formArrayName="addressInfo">
            <tr>
              <td>Street:</td>
              <td>City:</td>
              <td>isPrimary?:</td>
              <td></td>
            </tr>
            <tr *ngFor="let address of addressInfoArray.controls; let i = index" [formGroupName]='i'>
              <td> <input type="text" class="form-control" formControlName="street" [readonly]="readonly"></td>
              <td> <input type="text" class="form-control" formControlName="city" [readonly]="readonly"></td>
              <td>
                <label class="radio-inline"><input type="radio" value="true" checked formControlName="isPrimary"
                    [readonly]="readonly">YES</label>
                <label class="radio-inline"><input type="radio" value="false" formControlName="isPrimary"
                    [readonly]="readonly">NO</label>
              </td>
              <td><a (click)="removeAdress(i)" style="cursor:pointer">[X]</a></td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </form>
  <a (click)="goBack()" style="cursor:pointer">[Back]</a>
</div>